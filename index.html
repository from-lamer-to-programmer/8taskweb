<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Курносов</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    </head>
        <body>
           
                 <div class="popup_block" id="popup">
                    <div class="popup">
                        <div class="popup_content" id="popup_content">
                            <form
                                id="myForm"
                                class="ajaxForm" 
                                action="https://formcarry.com/s/d9wmDFLQWv"
                                method="POST"
                                enctype="multipart/form-data"
                            >
                                <h1>Форма обратной связи:</h1>
                                <input class="inp" name="Email" type="text" placeholder="Ваше имя" required>
                                <input class="inp" name="Tell" type="email" placeholder="test_mail@gmail.com" required>
                                <input class="inp" name="Conpuny" type="tel" placeholder="+7 123 456 78 90" required> 
                                <input class="inp" name="Massage" type="text" placeholder="Google" required> 
                                <textarea name="describe" cols="30" rows="7" id="textArea"></textarea>
                                <p>
                                    <input type="checkbox" class="check" required>
                                    Я согласен на обработку моих данных
                                </p>
                                <input type="submit" value="Отправить" class="popup_inp" id="popup_inp" required>
                                <br>
                            </form>
                            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
                            <script>
                                $(function(){
                                    const form = document.getElementById('myForm');
                                    const inputs = form.querySelectorAll('input');
                                    let textArea = document.getElementById('textArea');
            
                                    $(".ajaxForm").submit(function(e){
                                    e.preventDefault();
                                    var href = $(this).attr("action");
                                    $.ajax({
                                        type: "POST",
                                        dataType: "json",
                                        url: href,
                                        data: $(this).serialize(),
                                        success: function(response){
                                        if(response.status == "success"){
                                            alert("We received your submission, thank you!");
                                            inputs.forEach((element)=>{
                                                element.value = "";
                                            })
                                            inputs[5].value = "Отправить";
                                            inputs[4].checked = null;
                                            textArea.value = "";
                                        }else{
                                            alert("An error occured: " + response.message);
                                            inputs.forEach((element)=>{
                                                element.value = "";
                                            })
                                            inputs[5].value = "Отправить";
                                            inputs[4].checked = null;
                                            textArea.value = "";
                                        }
                                        }
                                    });
                                    });
                                });
                            </script>
                        </div>
                    </div>
                </div>
    </body>
    <script src='script.js'></script>
</html>
